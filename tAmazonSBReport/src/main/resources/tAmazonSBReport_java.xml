<?xml version="1.0" encoding="UTF-8"?>
<COMPONENT>

    <HEADER AUTHOR="Essence" COMPATIBILITY="ALL" DATA_AUTO_PROPAGATE="false" PLATEFORM="ALL" RELEASE_DATE="20191204A"
            SERIAL="" STARTABLE="true" STATUS="ALPHA" VERSION="0.1">
    <SIGNATURE/>
    </HEADER>
    <FAMILIES>
        <FAMILY>Amazon</FAMILY>
    </FAMILIES>
    <DOCUMENTATION>
        <URL/>
    </DOCUMENTATION>
    <CONNECTORS>
        <CONNECTOR CTYPE="ITERATE" MAX_INPUT="1"/>
        <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1"/>
        <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1"/>
        <CONNECTOR CTYPE="COMPONENT_OK"/>
        <CONNECTOR CTYPE="COMPONENT_ERROR"/>
        <CONNECTOR CTYPE="RUN_IF"/>
    </CONNECTORS>

    <PARAMETERS>
        <PARAMETER FIELD="TEXT" NAME="ACCESS_TOKEN" REQUIRED="true" NUM_ROW="1"/>
        <PARAMETER FIELD="TEXT" NAME="REFRESH_TOKEN" REQUIRED="true" NUM_ROW="1"/>
        <PARAMETER FIELD="TEXT" NAME="CLIENT_ID" REQUIRED="true" NUM_ROW="2"/>
        <PARAMETER FIELD="TEXT" NAME="PROFILE_ID" REQUIRED="true" NUM_ROW="2"/>
        <PARAMETER FIELD="TEXT" NAME="OUTPUT_BASE_DIR" REQUIRED="true" NUM_ROW="3"/>
        <PARAMETER FIELD="TEXT" NAME="OUTPUT_FILE_PREFIX" REQUIRED="true" NUM_ROW="3"/>
        <PARAMETER FIELD="CLOSED_LIST" NAME="RECORD_TYPE" REQUIRED="true" NUM_ROW="4">
            <ITEMS>
                <ITEM NAME="CAMPAIGNS" VALUE="CAMPAIGNS"/>
                <ITEM NAME="ADGROUPS" VALUE="ADGROUPS"/>
                <ITEM NAME="KEYWORDS" VALUE="KEYWORDS"/>
            </ITEMS>
        </PARAMETER>
        <PARAMETER FIELD="DATE" NAME="REPORT_DATE" REQUIRED="true" NUM_ROW="5"/>
        <PARAMETER FIELD="CLOSED_LIST" NAME="SEGMENT" REQUIRED="false" NUM_ROW="6">
            <ITEMS>
                <ITEM NAME="PLACEMENT" VALUE="PLACEMENT" SHOW_IF="(RECORD_TYPE == 'CAMPAIGNS')"/>
                <ITEM NAME="QUERY" VALUE="QUERY" SHOW_IF="(RECORD_TYPE == 'KEYWORDS')"/>
            </ITEMS>
        </PARAMETER>
        <PARAMETER FIELD="TABLE" NAME="METRICS" REQUIRED="true" NUM_ROW="7">
            <ITEMS>
                <ITEM NAME="METRICS" VALUE="Metrics" FIELD="CLOSED_LIST">
                    <ITEMS>
                        <ITEM NAME="CAMPAIGNNAME" VALUE="CAMPAIGNNAME"/>
                        <ITEM NAME="CAMPAIGNID" VALUE="CAMPAIGNID"/>
                        <ITEM NAME="CAMPAIGNSTATUS" VALUE="CAMPAIGNSTATUS"/>
                        <ITEM NAME="CAMPAIGNBUDGET" VALUE="CAMPAIGNBUDGET"/>
                        <ITEM NAME="CAMPAIGNBUDGETTYPE" VALUE="CAMPAIGNBUDGETTYPE"/>
                        <ITEM NAME="ADGROUPNAME" VALUE="ADGROUPNAME"/>
                        <ITEM NAME="ADGROUPID" VALUE="ADGROUPID"/>
                        <ITEM NAME="KEYWORDTEXT" VALUE="KEYWORDTEXT"/>
                        <ITEM NAME="KEYWORDBID" VALUE="KEYWORDBID"/>
                        <ITEM NAME="KEYWORDSTATUS" VALUE="KEYWORDSTATUS"/>
                        <ITEM NAME="TARGETID" VALUE="TARGETID"/>
                        <ITEM NAME="TARGETINGEXPRESSION" VALUE="TARGETINGEXPRESSION"/>
                        <ITEM NAME="TARGETINGTEXT" VALUE="TARGETINGTEXT"/>
                        <ITEM NAME="TARGETINGTYPE" VALUE="TARGETINGTYPE"/>
                        <ITEM NAME="MATCHTYPE" VALUE="MATCHTYPE"/>
                        <ITEM NAME="IMPRESSIONS" VALUE="IMPRESSIONS"/>
                        <ITEM NAME="CLICKS" VALUE="CLICKS"/>
                        <ITEM NAME="COST" VALUE="COST"/>
                        <ITEM NAME="ATTRIBUTEDDETAILPAGEVIEWSCLICKS14D" VALUE="ATTRIBUTEDDETAILPAGEVIEWSCLICKS14D"/>
                        <ITEM NAME="ATTRIBUTEDSALES14D" VALUE="ATTRIBUTEDSALES14D"/>
                        <ITEM NAME="ATTRIBUTEDSALES14DSAMESKU" VALUE="ATTRIBUTEDSALES14DSAMESKU"/>
                        <ITEM NAME="ATTRIBUTEDCONVERSIONS14D" VALUE="ATTRIBUTEDCONVERSIONS14D"/>
                        <ITEM NAME="ATTRIBUTEDCONVERSIONS14DSAMESKU" VALUE="ATTRIBUTEDCONVERSIONS14DSAMESKU"/>
                        <ITEM NAME="ATTRIBUTEDORDERSNEWTOBRAND14D" VALUE="ATTRIBUTEDORDERSNEWTOBRAND14D"/>
                        <ITEM NAME="ATTRIBUTEDORDERSNEWTOBRANDPERCENTAGE14D" VALUE="ATTRIBUTEDORDERSNEWTOBRANDPERCENTAGE14D"/>
                        <ITEM NAME="ATTRIBUTEDORDERRATENEWTOBRAND14D" VALUE="ATTRIBUTEDORDERRATENEWTOBRAND14D"/>
                        <ITEM NAME="ATTRIBUTEDSALESNEWTOBRAND14D" VALUE="ATTRIBUTEDSALESNEWTOBRAND14D"/>
                        <ITEM NAME="ATTRIBUTEDSALESNEWTOBRANDPERCENTAGE14D" VALUE="ATTRIBUTEDSALESNEWTOBRANDPERCENTAGE14D"/>
                        <ITEM NAME="ATTRIBUTEDUNITSORDEREDNEWTOBRAND14D" VALUE="ATTRIBUTEDUNITSORDEREDNEWTOBRAND14D"/>
                        <ITEM NAME="ATTRIBUTEDUNITSORDEREDNEWTOBRANDPERCENTAGE14D" VALUE="ATTRIBUTEDUNITSORDEREDNEWTOBRANDPERCENTAGE14D"/>
                        <ITEM NAME="UNITSSOLD14D" VALUE="UNITSSOLD14D"/>
                        <ITEM NAME="DPV14D" VALUE="DPV14D"/>
                        <ITEM NAME="QUERY" VALUE="QUERY"/>
                    </ITEMS>
                </ITEM>
            </ITEMS>
        </PARAMETER>
    </PARAMETERS>

    <ADVANCED_PARAMETERS>
        <PARAMETER FIELD="CLOSED_LIST" NAME="LOG_LEVEL" REQUIRED="true" NUM_ROW="1">
            <ITEMS DEFAULT="INFO">
                <ITEM NAME="ERROR" VALUE="ERROR"/>
                <ITEM NAME="WARN" VALUE="WARN"/>
                <ITEM NAME="INFO" VALUE="INFO"/>
                <ITEM NAME="DEBUG" VALUE="DEBUG"/>
                <ITEM NAME="TRACE" VALUE="TRACE"/>
            </ITEMS>
        </PARAMETER>
        <PARAMETER FIELD="TEXT" NAME="TIMEOUT" REQUIRED="true" NUM_ROW="3">
            <DEFAULT>3600</DEFAULT>
        </PARAMETER>
    </ADVANCED_PARAMETERS>

    <CODEGENERATION>
        <IMPORTS>
            <IMPORT MODULE="amazon-report-0.0.1-SNAPSHOT.jar" NAME="amazon-report-0.0.1-SNAPSHOT" REQUIRED="true"/>
        </IMPORTS>
    </CODEGENERATION>

    <RETURNS>
        <RETURN NAME="STATUS_CODE" TYPE="id_Integer" AVAILABILITY="AFTER"/>
        <RETURN NAME="FILE_NAMES" TYPE="id_String" AVAILABILITY="AFTER"/>
        <RETURN NAME="ERROR_MESSAGE" TYPE="id_String" AVAILABILITY="AFTER"/>
    </RETURNS>

</COMPONENT>